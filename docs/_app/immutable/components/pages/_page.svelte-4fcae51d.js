import{S as Z,i as J,s as N,v as _,w as d,x as y,f as m,t as p,y as w,o as Q,k as K,a as P,l as L,m as C,c as S,h as g,n as I,b as j,L as A,g as X,d as Y,P as tt,C as b,a0 as et,q as T,r as B,p as rt}from"../../chunks/index-e18796f7.js";import{b as W}from"../../chunks/paths-c8912ef8.js";import{W as nt,u as ot,D as st,G as at,C as lt,a as v,H as M,b as it,P as ct}from"../../chunks/WorldViewer-a3bd3bde.js";import{g as $t}from"../../chunks/navigation-f1adc06e.js";function V($,t,r){const e=$.slice();return e[6]=t[r],e}function F($){let t,r;return t=new it({props:{castShadow:!0,receiveShadow:!0,url:W+"/models/city/scene.gltf",scale:2,rotation:{z:-.14*v,y:-1*v,x:4.8*v},position:{...$[6],y:-27.2}}}),{c(){_(t.$$.fragment)},l(e){d(t.$$.fragment,e)},m(e,n){y(t,e,n),r=!0},p:b,i(e){r||(m(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){w(t,e)}}}function ft($){let t,r;return{c(){t=K("p"),r=T("Work in Progress"),this.h()},l(e){t=L(e,"P",{class:!0,style:!0});var n=C(t);r=B(n,"Work in Progress"),n.forEach(g),this.h()},h(){I(t,"class","text-xs text-black svelte-18jj3r3"),rt(t,"padding","2rem")},m(e,n){j(e,t,n),A(t,r)},p:b,d(e){e&&g(t)}}}function ut($){let t,r,e,n;return t=new M({props:{rotation:{y:-90*v},transform:!0,position:{x:-40,y:-13},$$slots:{default:[ft]},$$scope:{ctx:$}}}),e=new ct({props:{rotation:{x:-90*v,z:90*v,y:90*v},position:{y:.7,x:-.3,z:.35},fov:60}}),{c(){_(t.$$.fragment),r=P(),_(e.$$.fragment)},l(o){d(t.$$.fragment,o),r=S(o),d(e.$$.fragment,o)},m(o,l){y(t,o,l),j(o,r,l),y(e,o,l),n=!0},p(o,l){const c={};l&512&&(c.$$scope={dirty:l,ctx:o}),t.$set(c)},i(o){n||(m(t.$$.fragment,o),m(e.$$.fragment,o),n=!0)},o(o){p(t.$$.fragment,o),p(e.$$.fragment,o),n=!1},d(o){w(t,o),o&&g(r),w(e,o)}}}function mt($){let t,r;return{c(){t=K("img"),this.h()},l(e){t=L(e,"IMG",{src:!0,alt:!0}),this.h()},h(){et(t.src,r=W+"/logo/logo_main.png")||I(t,"src",r),I(t,"alt","Simul-City logo")},m(e,n){j(e,t,n)},p:b,d(e){e&&g(t)}}}function pt($){let t,r,e,n,o;return{c(){t=K("p"),r=T("By"),e=P(),n=K("p"),o=T("Elijah Storm"),this.h()},l(l){t=L(l,"P",{class:!0});var c=C(t);r=B(c,"By"),c.forEach(g),e=S(l),n=L(l,"P",{class:!0});var u=C(n);o=B(u,"Elijah Storm"),u.forEach(g),this.h()},h(){I(t,"class","svelte-18jj3r3"),I(n,"class","svelte-18jj3r3")},m(l,c){j(l,t,c),A(t,r),j(l,e,c),j(l,n,c),A(n,o)},p:b,d(l){l&&g(t),l&&g(e),l&&g(n)}}}function gt($){let t,r,e,n,o,l,c,u,x,U,D,k;r=new st({props:{position:{y:20,x:8,z:-3}}});let E=$[1],i=[];for(let s=0;s<E.length;s+=1)i[s]=F(V($,E,s));const O=s=>p(i[s],1,1,()=>{i[s]=null});return o=new at({}),c=new lt({props:{movement:$[0],position:{y:.01,x:-5},rotation:{y:90*v},$$slots:{default:[ut]},$$scope:{ctx:$}}}),x=new M({props:{transform:!0,position:{y:5,x:-60,z:50},rotation:{y:90*v},$$slots:{default:[mt]},$$scope:{ctx:$}}}),D=new M({props:{transform:!0,position:{y:6,x:-50,z:0},rotation:{y:-180*v},$$slots:{default:[pt]},$$scope:{ctx:$}}}),{c(){t=K("div"),_(r.$$.fragment),e=P();for(let s=0;s<i.length;s+=1)i[s].c();n=P(),_(o.$$.fragment),l=P(),_(c.$$.fragment),u=P(),_(x.$$.fragment),U=P(),_(D.$$.fragment),this.h()},l(s){t=L(s,"DIV",{slot:!0});var a=C(t);d(r.$$.fragment,a),e=S(a);for(let h=0;h<i.length;h+=1)i[h].l(a);n=S(a),d(o.$$.fragment,a),l=S(a),d(c.$$.fragment,a),u=S(a),d(x.$$.fragment,a),U=S(a),d(D.$$.fragment,a),a.forEach(g),this.h()},h(){I(t,"slot","scene")},m(s,a){j(s,t,a),y(r,t,null),A(t,e);for(let h=0;h<i.length;h+=1)i[h].m(t,null);A(t,n),y(o,t,null),A(t,l),y(c,t,null),A(t,u),y(x,t,null),A(t,U),y(D,t,null),k=!0},p(s,a){if(a&2){E=s[1];let f;for(f=0;f<E.length;f+=1){const H=V(s,E,f);i[f]?(i[f].p(H,a),m(i[f],1)):(i[f]=F(H),i[f].c(),m(i[f],1),i[f].m(t,n))}for(X(),f=E.length;f<i.length;f+=1)O(f);Y()}const h={};a&512&&(h.$$scope={dirty:a,ctx:s}),c.$set(h);const q={};a&512&&(q.$$scope={dirty:a,ctx:s}),x.$set(q);const R={};a&512&&(R.$$scope={dirty:a,ctx:s}),D.$set(R)},i(s){if(!k){m(r.$$.fragment,s);for(let a=0;a<E.length;a+=1)m(i[a]);m(o.$$.fragment,s),m(c.$$.fragment,s),m(x.$$.fragment,s),m(D.$$.fragment,s),k=!0}},o(s){p(r.$$.fragment,s),i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)p(i[a]);p(o.$$.fragment,s),p(c.$$.fragment,s),p(x.$$.fragment,s),p(D.$$.fragment,s),k=!1},d(s){s&&g(t),w(r),tt(i,s),w(o),w(c),w(x),w(D)}}}function ht($){let t,r;return t=new nt({props:{$$slots:{scene:[gt]},$$scope:{ctx:$}}}),{c(){_(t.$$.fragment)},l(e){d(t.$$.fragment,e)},m(e,n){y(t,e,n),r=!0},p(e,[n]){const o={};n&512&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){r||(m(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){w(t,e)}}}const G=3,z=140;function _t($){const[t,r]=ot(),e={up:()=>r.onKeyDown("ArrowUp"),right:()=>r.onKeyDown("ArrowRight"),down:()=>r.onKeyDown("ArrowDown"),left:()=>r.onKeyDown("ArrowLeft")},n={up:()=>r.onKeyUp("ArrowUp"),right:()=>r.onKeyUp("ArrowRight"),down:()=>r.onKeyUp("ArrowDown"),left:()=>r.onKeyUp("ArrowLeft")},o=[{action:e.up,delay:6e3},{action:n.up,delay:4e3},{action:e.down,delay:400},{action:e.right,delay:600},{action:n.down,delay:400},{action:n.right,delay:1e3},{action:e.up,delay:0},{action:e.right,delay:500},{action:n.right,delay:1e3},{action:n.up,delay:2e3},{action:()=>{$t(`${W}/2d`)},delay:5e3}];Q(()=>o.reduce((c,u)=>(setTimeout(u.action,c+u.delay),c+u.delay),0));const l=new Array(G**2).fill({}).map((c,u)=>({x:u%G*z-z,z:Math.floor(u/G)*z-2*z-60}));return[t,l]}class dt extends Z{constructor(t){super(),J(this,t,_t,ht,N,{})}}function yt($){let t,r;return t=new dt({}),{c(){_(t.$$.fragment)},l(e){d(t.$$.fragment,e)},m(e,n){y(t,e,n),r=!0},p:b,i(e){r||(m(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){w(t,e)}}}class At extends Z{constructor(t){super(),J(this,t,null,yt,N,{})}}export{At as default};
