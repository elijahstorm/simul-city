import{S as Z,i as J,s as N,v as h,w as _,x as d,f as m,t as p,y as w,o as Q,k as C,a as E,l as P,m as T,c as S,h as D,n as L,b as I,L as A,g as X,d as Y,P as tt,C as b,a0 as et,q as R,r as H}from"../../chunks/index-e18796f7.js";import{b as k}from"../../chunks/paths-c8912ef8.js";import{W as nt,u as rt,D as ot,G as at,C as st,H as V,a as K,b as lt,P as it}from"../../chunks/WorldViewer-0db19829.js";import{g as ct}from"../../chunks/navigation-a58676b5.js";function W(l,t,n){const e=l.slice();return e[6]=t[n],e}function F(l){let t,n;return t=new lt({props:{castShadow:!0,receiveShadow:!0,url:k+"/models/city/scene.gltf",scale:2,position:{...l[6]}}}),{c(){h(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,o){d(t,e,o),n=!0},p:b,i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){w(t,e)}}}function ft(l){let t,n;return t=new it({props:{rotation:{x:-90*K,z:90*K,y:0*K},position:{y:200,x:-.3,z:.35},fov:60}}),{c(){h(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,o){d(t,e,o),n=!0},p:b,i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){w(t,e)}}}function $t(l){let t,n;return{c(){t=C("img"),this.h()},l(e){t=P(e,"IMG",{src:!0,alt:!0}),this.h()},h(){et(t.src,n=k+"/logo/logo_main.png")||L(t,"src",n),L(t,"alt","Simul-City logo")},m(e,o){I(e,t,o)},p:b,d(e){e&&D(t)}}}function ut(l){let t,n,e,o,f;return{c(){t=C("p"),n=R("By"),e=E(),o=C("p"),f=R("Elijah Storm"),this.h()},l(c){t=P(c,"P",{class:!0});var i=T(t);n=H(i,"By"),i.forEach(D),e=S(c),o=P(c,"P",{class:!0});var u=T(o);f=H(u,"Elijah Storm"),u.forEach(D),this.h()},h(){L(t,"class","svelte-18jj3r3"),L(o,"class","svelte-18jj3r3")},m(c,i){I(c,t,i),A(t,n),I(c,e,i),I(c,o,i),A(o,f)},p:b,d(c){c&&D(t),c&&D(e),c&&D(o)}}}function mt(l){let t,n,e,o,f,c,i,u,y,U,v,j;n=new ot({props:{position:{y:20,x:8,z:-3}}});let x=l[1],s=[];for(let r=0;r<x.length;r+=1)s[r]=F(W(l,x,r));const O=r=>p(s[r],1,1,()=>{s[r]=null});return f=new at({}),i=new st({props:{movement:l[0],$$slots:{default:[ft]},$$scope:{ctx:l}}}),y=new V({props:{transform:!0,position:{y:5,x:-60,z:50},rotation:{y:90*K},$$slots:{default:[$t]},$$scope:{ctx:l}}}),v=new V({props:{transform:!0,position:{y:6,x:-50,z:0},rotation:{y:-180*K},$$slots:{default:[ut]},$$scope:{ctx:l}}}),{c(){t=C("div"),h(n.$$.fragment),e=E();for(let r=0;r<s.length;r+=1)s[r].c();o=E(),h(f.$$.fragment),c=E(),h(i.$$.fragment),u=E(),h(y.$$.fragment),U=E(),h(v.$$.fragment),this.h()},l(r){t=P(r,"DIV",{slot:!0});var a=T(t);_(n.$$.fragment,a),e=S(a);for(let g=0;g<s.length;g+=1)s[g].l(a);o=S(a),_(f.$$.fragment,a),c=S(a),_(i.$$.fragment,a),u=S(a),_(y.$$.fragment,a),U=S(a),_(v.$$.fragment,a),a.forEach(D),this.h()},h(){L(t,"slot","scene")},m(r,a){I(r,t,a),d(n,t,null),A(t,e);for(let g=0;g<s.length;g+=1)s[g].m(t,null);A(t,o),d(f,t,null),A(t,c),d(i,t,null),A(t,u),d(y,t,null),A(t,U),d(v,t,null),j=!0},p(r,a){if(a&2){x=r[1];let $;for($=0;$<x.length;$+=1){const q=W(r,x,$);s[$]?(s[$].p(q,a),m(s[$],1)):(s[$]=F(q),s[$].c(),m(s[$],1),s[$].m(t,o))}for(X(),$=x.length;$<s.length;$+=1)O($);Y()}const g={};a&512&&(g.$$scope={dirty:a,ctx:r}),i.$set(g);const B={};a&512&&(B.$$scope={dirty:a,ctx:r}),y.$set(B);const M={};a&512&&(M.$$scope={dirty:a,ctx:r}),v.$set(M)},i(r){if(!j){m(n.$$.fragment,r);for(let a=0;a<x.length;a+=1)m(s[a]);m(f.$$.fragment,r),m(i.$$.fragment,r),m(y.$$.fragment,r),m(v.$$.fragment,r),j=!0}},o(r){p(n.$$.fragment,r),s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)p(s[a]);p(f.$$.fragment,r),p(i.$$.fragment,r),p(y.$$.fragment,r),p(v.$$.fragment,r),j=!1},d(r){r&&D(t),w(n),tt(s,r),w(f),w(i),w(y),w(v)}}}function pt(l){let t,n;return t=new nt({props:{$$slots:{scene:[mt]},$$scope:{ctx:l}}}),{c(){h(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,o){d(t,e,o),n=!0},p(e,[o]){const f={};o&512&&(f.$$scope={dirty:o,ctx:e}),t.$set(f)},i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){w(t,e)}}}const G=3,z=140;function gt(l){const[t,n]=rt(),e={up:()=>n.onKeyDown("ArrowUp"),right:()=>n.onKeyDown("ArrowRight"),down:()=>n.onKeyDown("ArrowDown"),left:()=>n.onKeyDown("ArrowLeft")},o={up:()=>n.onKeyUp("ArrowUp"),right:()=>n.onKeyUp("ArrowRight"),down:()=>n.onKeyUp("ArrowDown"),left:()=>n.onKeyUp("ArrowLeft")},f=[{action:e.up,delay:5e3},{action:o.up,delay:5e3},{action:e.down,delay:400},{action:e.right,delay:200},{action:o.down,delay:400},{action:o.right,delay:1e3},{action:e.up,delay:0},{action:e.right,delay:500},{action:o.right,delay:1e3},{action:o.up,delay:2e3},{action:()=>{ct(`${k}/3d`)},delay:5e3}];Q(()=>f.reduce((i,u)=>(setTimeout(u.action,i+u.delay),i+u.delay),0));const c=new Array(G**2).fill({}).map((i,u)=>({x:u%G*z-z,z:Math.floor(u/G)*z-2*z-60}));return[t,c]}class ht extends Z{constructor(t){super(),J(this,t,gt,pt,N,{})}}function _t(l){let t,n;return t=new ht({}),{c(){h(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,o){d(t,e,o),n=!0},p:b,i(e){n||(m(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){w(t,e)}}}class Dt extends Z{constructor(t){super(),J(this,t,null,_t,N,{})}}export{Dt as default};
